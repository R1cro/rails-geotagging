<script type="text/javascript">
  handler = Gmaps.build('Google');
  handler.buildMap({
    provider: { mapTypeId: google.maps.MapTypeId.HYBRID, maxZoom: 16 },
    internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @marker_hash.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  });

  var input = /** @type {!HTMLInputElement} */(
            document.getElementById('location-input'));
  var autocomplete = new google.maps.places.Autocomplete(input);
        autocomplete.bindTo('bounds', map);

</script>
